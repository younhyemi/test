📘 모바일 웹 주문 시스템 – 최종 PRD

(관리자 모드 + 고객 모드 + 테이블 기반 + QR URL + 메뉴별 주문취소 기능 포함)

1. 시스템 목적

매장의 테이블별 주문 및 음식 제공, 계산을 모바일 웹으로 처리.

고객은 자신의 테이블 번호에 해당하는 기능만 접근.

관리자는 메뉴·테이블 주문·음식·계산을 전체 관리.

QR 기반으로 테이블 번호 자동 적용.

데이터는 Supabase에 저장

2. 메인 페이지 (index.html)
📱 모바일 UI 최적화

화면 중앙에 테이블번호 입력 필드

큰 버튼(높이 60~70px)

터치 기반 UI

2.1 기능 설명
✔ 테이블번호 입력 후 “입장하기” 버튼 클릭 → 다음 단계로 이동
입력값이 다음과 같을 경우:
1) “admin” 입력 → 관리자 페이지로 이동(admin.html)
2) 그 외 입력 → 고객 페이지로 이동(customer.html?table=5)

QR 접속 시: index.html?table=5 형태로 자동 입력됨

고객페이지에서 table_no 값은 URL 파라미터로 계속 유지됨

3. 관리자 페이지(admin.html)

관리자 페이지에는 다음 4개의 버튼 존재:

[메뉴관리]
[테이블별 주문확인]
[음식확인]
[계산]

3.1 1) 메뉴관리 페이지
목적

메뉴 등록·수정·삭제·마감 관리

화면 구성

메뉴명 입력 필드

가격 입력 필드

“저장” 버튼

메뉴 리스트(카드형)

메뉴명

가격

수정 버튼

삭제 버튼

마감 버튼 (sale_yn = N)

기능 요구사항

메뉴 저장 시 DB MENU 테이블에

menu_name

price

sale_yn = 'Y' 로 저장

수정/삭제 가능

마감 버튼 클릭 시 sale_yn = 'N'

모든 버튼 클릭 이벤트 처리 후 자동 새로고침

3.2 2) 테이블별 주문확인 페이지
목적

테이블별 주문 내용을 관리하고, 제공완료/주문취소 처리

화면 구성

주문이 있는 테이블번호 리스트

ORDER.use_yn = 'Y'인 테이블만

테이블번호 클릭 시 해당 테이블 주문 전체 출력

메뉴명

수량

가격

제공여부(Y/N)

기능 요구사항
✔ 제공완료 버튼

해당 테이블의 모든 주문 항목 serve_yn = 'Y'로 변경

처리 후 자동 새로고침

✔ 전체 주문취소 버튼

use_yn = 'N'으로 테이블 전체 주문 비활성

처리 후 자동 새로고침

✔ 각 메뉴별 개별 주문취소 기능 추가

각 주문항목 단위로 “주문취소” 버튼 존재

해당 주문 only use_yn = 'N' 변경

처리 후 자동 새로고침

3.3 3) 음식확인 페이지
목적

메뉴별로 주문된 음식 상태를 확인하고 제공여부 수정

화면 구성

MENU 테이블의 메뉴명 리스트

메뉴 클릭 → 해당 메뉴의 주문 리스트

메뉴명

테이블번호

수량

완료여부 체크박스 (serve_yn Y/N)

“저장” 버튼

기능 요구사항

체크 가능/체크해제 가능 (실수 대비)

저장 시 ORDER 테이블의 serve_yn 업데이트

저장 후 자동 새로고침

3.4 4) 계산 페이지
목적

미결제 테이블 확인 후 결제 완료 처리

화면 구성

pay_yn = 'N' && use_yn = 'Y'인 테이블번호 리스트

테이블번호 클릭 → 주문 리스트 표시

메뉴명

수량

가격

소계

하단: 총합계 금액

“계산완료” 버튼

기능 요구사항

계산완료 클릭 시

해당 테이블 모든 주문 pay_yn = 'Y'

이벤트 후 자동 새로고침

4. 고객 페이지(customer.html)

고객 페이지는 테이블번호 입력 또는 QR URL로 접근.

버튼 구성:

[주문]
[주문확인]

4.1 1) 주문 페이지
목적

고객이 메뉴 수량을 선택하여 주문 생성

화면 구성

메뉴 리스트 (sale_yn = Y인 메뉴만)

메뉴명

가격

버튼

버튼

수량 기본값 = 0

하단 “주문등록” 버튼

기능 요구사항

주문등록 시 qty > 0인 메뉴만 ORDER 테이블에 Insert

저장되는 값:

table_no (URL 또는 index에서 입력한 값)

menu_name

price

qty

serve_yn = 'N'

pay_yn = 'N'

use_yn = 'Y'

4.2 2) 주문확인 페이지
목적

현재 테이블의 주문 내역을 고객이 확인

화면 구성

메뉴명

가격

수량

소계

마지막에 총 합계 금액 표시

기능 요구사항

ORDER.use_yn = 'Y'인 주문만 표시

ORDER.pay_yn, serve_yn 여부도 필요하면 아이콘으로 표시 가능

실시간 반영을 위해 새로고침 시 최신 상태 반영

5. 데이터베이스 모델
5.1 MENU 테이블
컬럼명	타입	설명
id	PK	메뉴 ID
menu_name	VARCHAR	메뉴명
price	INT	가격
sale_yn	CHAR(1)	판매여부(Y/N)
5.2 ORDER 테이블
컬럼명	타입	설명
id	PK	주문 ID
table_no	VARCHAR	테이블번호
menu_name	VARCHAR	메뉴명
price	INT	가격
qty	INT	수량
serve_yn	CHAR(1)	제공여부 (Y/N)
pay_yn	CHAR(1)	계산여부 (Y/N)
use_yn	CHAR(1)	사용여부 (Y/N → 주문취소 시 N)
created_at	DATETIME	주문시간
6. 모바일 UI 요구사항

모든 버튼은 터치 영역 고려(최소 높이 60px)

폰트 16px 이상

버튼 간 spacing 12~16px

카드형 UI로 정보 분리

스크롤 최소화

입력은 자동 포커스 또는 숫자 키패드 호출

색 대비와 가독성 높게 유지

실수 방지 팝업 필요 (주문취소, 계산완료 등)