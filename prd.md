────────────────────────────────────────

모바일 웹 주문 시스템 – 최종 PRD

본 문서는 관리자 페이지와 고객 페이지로 구성된 모바일 주문 관리 시스템의 요구사항을 정의한다.
모든 화면은 모바일 환경에 최적화되어야 한다.

────────────────────────────────────────

1. 메인 페이지 (index.html)
1.1 기능 개요

화면 중앙에 테이블번호 입력 필드가 표시된다.

"입장하기" 버튼 클릭 시 다음 로직이 적용된다.

입력값이 "admin"이면 관리자 페이지로 이동한다.

그 외의 문자열 또는 숫자 입력 시 고객 페이지로 이동한다.

QR 접속 시 URL에 "?table=테이블번호" 형태로 접근할 수 있으며, 이 경우 테이블번호가 자동 반영된다.

────────────────────────────────────────

2. 관리자 페이지 (admin.html)

관리자 페이지에는 다음 네 가지 버튼이 표시된다.

메뉴관리

테이블별 주문확인

음식확인

계산

────────────────────────────────────────

2-1. 메뉴관리 페이지
기능 목적

메뉴의 구분명, 메뉴명, 가격을 등록, 수정, 삭제, 마감 처리한다.

입력 항목

구분명 (category)

메뉴명 (menu_name)

가격 (price)

UI 요구사항

입력 필드 3개와 "저장" 버튼이 위치한다.

저장된 메뉴 리스트는 구분명, 메뉴명, 가격 순으로 정렬되어 표시된다.

각 항목에는 "수정", "삭제", "마감" 버튼이 포함된다.

처리 로직

저장: MENU 테이블에 category, menu_name, price, sale_yn='Y'로 저장한다.

수정: 해당 항목을 업데이트한다.

삭제: 해당 항목을 삭제한다.

마감: sale_yn = 'N'으로 변경된다. (주문 페이지에서 노출되지 않음)

모든 버튼 처리 후 페이지는 자동 새로고침된다.

────────────────────────────────────────

2-2. 테이블별 주문확인 페이지
기능 목적

테이블별 주문 내용을 조회하고 제공완료, 제공취소, 주문취소를 처리한다.

화면 구성
1) 테이블 리스트

주문이 존재하는 테이블번호들이 리스트업된다.

테이블번호 기준으로 정렬된다.

2) 테이블 선택 시 주문 상세 표시

표시 항목:

메뉴명

수량

가격

주문등록일시

제공일시

계산여부

계산일시

각 행별 버튼:

제공완료

제공취소

주문취소

3) 하단 일괄 처리 버튼

전체 제공완료

전체 제공취소

전체 주문취소

처리 로직

제공완료: serve_yn='Y', serve_at=현재시간

제공취소: serve_yn='N', serve_at=null

주문취소: use_yn='N'

모든 처리 이후 자동 새로고침된다.

────────────────────────────────────────

2-3. 음식확인 페이지
기능 목적

계산은 되었으나 아직 제공되지 않은 음식 항목을 주방에서 확인 및 제공 처리한다.

1) 메뉴 리스트 조건

ORDER 테이블에서 다음 조건을 만족하는 항목을 메뉴명 기준으로 그룹핑하여 표시한다.

pay_yn = 'Y'

serve_yn = 'N'

표시 항목:

메뉴명

제공해야 하는 총 수량 합계

2) 메뉴 선택 시 상세 주문 리스트

정렬: 주문등록일시 오름차순

표시 항목:

메뉴명

테이블번호

수량

주문등록일시

각 행에 "제공완료" 버튼이 존재한다.

처리 로직

제공완료: serve_yn='Y', serve_at=현재시간

처리 후 자동 새로고침된다.

────────────────────────────────────────

2-4. 계산 페이지
기능 목적

테이블별로 계산 상태 및 금액을 확인하고 계산완료, 계산취소를 처리한다.

1) 테이블 리스트 표시

각 테이블별로 다음 정보가 표시된다.

테이블번호

수량 합계

가격 합계
정렬 기준: 테이블번호 오름차순

2) 테이블 상세 표시

표시 항목:

메뉴명

수량

가격

소계

제공여부

제공일시

계산여부

계산일시

각 행에는 다음 버튼 포함:

계산완료

계산취소

3) 하단 전체 금액 영역

전체 총 금액

계산완료 금액 총합 (pay_yn='Y')

계산해야 하는 금액 총합 (pay_yn='N')

4) 하단 전체 처리 버튼

전체 계산완료

전체 계산취소

처리 로직

계산완료: pay_yn='Y', pay_at=현재시간

계산취소: pay_yn='N', pay_at=null

처리 후 자동 새로고침된다.

────────────────────────────────────────

3. 고객 페이지 (customer.html)

메인 페이지에서 입력한 테이블번호 또는 QR URL로 접근한다.

버튼 구성:

주문

주문확인

────────────────────────────────────────

3-1. 고객 주문 페이지
UI 구성

MENU 테이블의 데이터가 구분명 → 메뉴명 순으로 정렬되어 표시된다.

각 메뉴 항목에는 다음 구성 요소가 포함된다.

구분명

메뉴명

가격

수량 조절 버튼 (+, -)

하단에 "주문등록" 버튼이 있다.

처리 로직

수량이 1 이상인 항목만 ORDER 테이블에 insert한다.

저장되는 값:

table_no

category

menu_name

price

qty

order_at = 현재시간

serve_yn = 'N'

pay_yn = 'N'

use_yn = 'Y'

────────────────────────────────────────

3-2. 고객 주문확인 페이지
표시 항목

정렬: 구분명 → 메뉴명 순

표시되는 정보:

구분명

메뉴명

수량

가격

제공일시 (serve_at, serve_yn='Y'인 경우에만 표시)

계산일시 (pay_at, pay_yn='Y'인 경우에만 표시)

하단:

전체 합계 금액 표시

────────────────────────────────────────

4. 데이터베이스 스키마 요구사항
MENU 테이블
컬럼명	타입	설명
id	SERIAL	PK
category	VARCHAR(50)	구분명
menu_name	VARCHAR(100)	메뉴명
price	INT	가격
sale_yn	CHAR(1) DEFAULT 'Y'	판매 여부
ORDER 테이블
컬럼명	타입	설명
id	SERIAL	PK
table_no	VARCHAR(20)	테이블번호
category	VARCHAR(50)	구분명
menu_name	VARCHAR(100)	메뉴명
price	INT	가격
qty	INT	수량
order_at	TIMESTAMP DEFAULT now()	주문등록일시
serve_yn	CHAR(1) DEFAULT 'N'	제공여부
serve_at	TIMESTAMP NULL	제공일시
pay_yn	CHAR(1) DEFAULT 'N'	계산여부
pay_at	TIMESTAMP NULL	계산일시
use_yn	CHAR(1) DEFAULT 'Y'	사용여부

────────────────────────────────────────

5. 본 PRD에 반영된 기능 검증 체크

구분명 추가 기능 반영

주문등록일시, 제공일시, 계산일시 표시 반영

행 단위 제공완료, 제공취소, 주문취소 기능 반영

전체 제공완료, 전체 제공취소, 전체 주문취소 기능 반영

음식확인 조건 변경 반영 (계산완료이면서 제공되지 않은 항목)

메뉴 상세 제공완료 기능 반영

계산완료 및 계산취소 기능 반영

고객 페이지에서 구분명 기반 정렬 반영

테이블별 URL 접근 기능 반영

모바일 UI 최적화 요구사항 반영

모든 버튼 동작 후 자동 새로고침 반영

────────────────────────────────────────